{"version":3,"sources":["components/Header.jsx","context/AppReducer.js","context/GlobalState.js","utils/format.js","components/Balance.jsx","components/Summary.jsx","components/Transaction.jsx","components/TransactionList.jsx","components/AddTransaction.jsx","App.js","index.js"],"names":["Header","AppReducer","state","action","type","loading","transactions","payload","filter","transaction","_id","error","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","dispatch","a","axios","get","res","data","response","deleteTransaction","id","delete","addTransaction","config","headers","post","Provider","value","getTransactions","formatCurrency","num","locale","currency","toLocaleString","Balance","total","useContext","map","amount","reduce","acc","item","style","color","Summary","amounts","income","expense","Math","abs","className","Transaction","sign","text","onClick","TransactionList","useEffect","length","AddTransaction","useState","setText","setAmount","setType","onSubmit","e","preventDefault","newTransaction","floor","random","htmlFor","onChange","target","placeholder","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3db474eb.chunk.js","sourcesContent":["import React from 'react';\n\nconst Header = () => {\n  return (\n    <h2>\n      Expense Tracker\n    </h2>\n  );\n}\n\nexport default Header;\n","const AppReducer = (state, action) => {\n  switch(action.type) {\n    case 'GET_TRANSACTIONS':\n      return {\n        ...state,\n        loading: false,\n        transactions: action.payload\n      }\n    case 'DELETE_TRANSACTION':\n      return {\n        ...state,\n        transactions: state.transactions.filter(transaction => (\n          transaction._id !== action.payload\n        ))\n      }\n    case 'ADD_TRANSACTION':\n      return {\n        ...state,\n        transactions: [...state.transactions, action.payload]\n      }\n    case 'TRANSACTION_ERROR':\n      return {\n        ...state,\n        error: action.payload\n      }\n    default:\n      return state;\n  }\n}\n\nexport default AppReducer;","import React, { createContext, useReducer } from 'react';\nimport AppReducer from './AppReducer';\nimport axios from 'axios';\n\n// Initial state\nconst initialState = {\n  transactions: [],\n  error: null,\n  loading: true\n}\n\n// Create context\nexport const GlobalContext = createContext(initialState);\n\n// Provider component\nexport const GlobalProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n\n  // Actions\n  async function getTransactions() {\n    try {\n      const res = await axios.get('/api/v1/transactions');\n\n      dispatch({\n        type: 'GET_TRANSACTIONS',\n        payload: res.data.data\n      });\n    } catch (err) {\n      dispatch({\n        type: 'TRANSACTION_ERROR',\n        payload: err.response.data.error\n      });\n    }\n  }\n\n  const deleteTransaction = async (id) => {\n    try {\n      await axios.delete(`/api/v1/transactions/${id}`);\n\n      dispatch({\n        type: 'DELETE_TRANSACTION',\n        payload: id\n      });\n    } catch (err) {\n      dispatch({\n        type: 'TRANSACTION_ERROR',\n        payload: err.response.data.error\n      });\n    }\n  }\n\n  const addTransaction = async (transaction) => {\n    const config = {\n      headers: { 'Content-Type': 'application/json' }\n    }\n\n    try {\n      const res = await axios.post('/api/v1/transactions', transaction, config);\n\n      dispatch({\n        type: 'ADD_TRANSACTION',\n        payload: res.data.data\n      });\n    } catch (err) {\n      dispatch({\n        type: 'TRANSACTION_ERROR',\n        payload: err.response.data.error\n      });\n    }\n  }\n\n  return (\n    <GlobalContext.Provider value={{\n      transactions: state.transactions,\n      error: state.error,\n      loading: state.loading,\n      getTransactions,\n      deleteTransaction,\n      addTransaction,\n    }}>\n      {children}\n    </GlobalContext.Provider>\n  );\n}","const formatCurrency = (num, locale='en-latn', currency='USD') => {\n  return num.toLocaleString(locale, {\n    'style': 'currency',\n    'currency': currency\n  });\n}\n\nexport {\n  formatCurrency,\n}","import React, { useContext } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\nimport { formatCurrency } from '../utils/format';\n\nconst Balance = () => {\n  const { transactions } = useContext(GlobalContext);\n\n  const amounts = transactions.map(transaction => transaction.amount);\n  const total = amounts.reduce((acc, item) => (acc += item), 0);\n\n  return (\n    <>\n      <h4>Your Balance</h4>\n      <h1 style={total < 0 ? {color: '#c0392b'} : {}}>\n        {formatCurrency(total)}\n      </h1>\n    </>\n  );\n}\n\nexport default Balance;\n","import React, { useContext } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\nimport { formatCurrency } from '../utils/format';\n\nconst Summary = () => {\n  const { transactions } = useContext(GlobalContext);\n\n  const amounts = transactions.map(transaction => transaction.amount);\n\n  const income = amounts\n    .filter(item => item > 0)\n    .reduce((acc, item) => (acc += item), 0);\n\n  const expense = Math.abs(amounts\n    .filter(item => item < 0)\n    .reduce((acc, item) => (acc += item), 0));\n  \n  return (\n    <div className=\"inc-exp-container\">\n      <div>\n        <h4>Income</h4>\n        <p className=\"money plus\">+{formatCurrency(income)}</p>\n      </div>\n      <div>\n        <h4>Expense</h4>\n        <p className=\"money minus\">-{formatCurrency(expense)}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default Summary;\n","import React, { useContext } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\nimport { formatCurrency } from '../utils/format';\n\nconst Transaction = ({ data }) => {\n  const { deleteTransaction } = useContext(GlobalContext);\n\n  const sign = data.amount < 0 ? '-' : '+';\n\n  return (\n    <li className={data.amount < 0 ? 'minus' : 'plus'}>\n      {data.text}\n      <span>{sign}{formatCurrency(Math.abs(data.amount))}</span>\n      <button className=\"delete-btn\" onClick={() => deleteTransaction(data._id)}>x</button>\n    </li>\n  );\n}\n\nexport default Transaction;\n","import React, { useContext, useEffect } from 'react';\nimport Transaction from './Transaction';\n\nimport { GlobalContext } from '../context/GlobalState';\n\nconst TransactionList = () => {\n  const { transactions, getTransactions } = useContext(GlobalContext);\n\n  useEffect(() => {\n    getTransactions();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      <h3>History</h3>\n      <ul className=\"list\">\n        {transactions.length === 0 \n        ? <h5>No transaction history...</h5>\n        : transactions.map(transaction => (\n            <Transaction key={transaction._id} data={transaction} />\n          ))\n        }\n      </ul>\n    </>\n  );\n}\n\nexport default TransactionList;\n","import React, { useState, useContext } from 'react';\nimport { GlobalContext } from '../context/GlobalState';\n\nconst AddTransaction = () => {\n  const [text, setText] = useState('');\n  const [amount, setAmount] = useState(0);\n  const [type, setType] = useState('+');\n\n  const { addTransaction } = useContext(GlobalContext);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    const newTransaction = {\n      id: Math.floor(Math.random() * 100000000),\n      text,\n      amount: (Math.abs(+amount) * (type === '+' ? 1 : -1))\n    }\n\n    addTransaction(newTransaction);\n    setText('');\n    setAmount(0);\n  }\n\n  return (\n    <>\n      <h3>Add new transaction</h3>\n      <div className=\"transaction-type\">\n        <button\n          className={`btn ${type === '+' ? 'trans-income-btn' : 'trans-default-btn'}`}\n          onClick={() => setType('+')}\n        >Income</button>\n        <button\n          className={`btn ${type === '-' ? 'trans-expense-btn' : 'trans-default-btn'}`}\n          onClick={() => setType('-')}\n        >Expense</button>\n      </div>\n      <form onSubmit={onSubmit}>\n        <div className=\"form-control\">\n          <label htmlFor=\"text\">Text</label>\n          <input\n            type=\"text\"\n            value={text}\n            onChange={(e) => setText(e.target.value)}\n            placeholder=\"Enter text...\"\n          />\n        </div>\n        <div className=\"form-control\">\n          <label htmlFor=\"amount\">Amount</label>\n          <input\n            type=\"number\"\n            value={amount}\n            onChange={(e) => setAmount(e.target.value)}\n            placeholder=\"Enter amount...\"\n          />\n        </div>\n        <button className=\"btn\" type=\"submit\">Add transaction</button>\n      </form>\n    </>\n  );\n}\n\nexport default AddTransaction;\n","import React from 'react';\nimport Header from './components/Header';\nimport Balance from './components/Balance';\nimport Summary from './components/Summary';\nimport TransactionList from './components/TransactionList';\nimport AddTransaction from './components/AddTransaction';\n\nimport { GlobalProvider } from'./context/GlobalState';\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <GlobalProvider>\n      <Header />\n      <div className=\"container\">\n        <Balance />\n        <Summary />\n        <AddTransaction />\n        <TransactionList />\n      </div>\n    </GlobalProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}